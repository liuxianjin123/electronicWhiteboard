<template>
  <div>
    <template>
      <a-table
        :columns="BrOrDatail?selectBr:selectBrDetail"
        :data-source="BrOrDatail?selectBrData:selectBrDetailData"
        bordered
        size="small"
        :scroll="{ x: '100%' }"
        :customRow="rowClick"
        :rowKey="
          (record, index) => {
            return index;
          }
        "
      >
  
      </a-table>
    </template>
  </div>
</template>
<script>
export default {
  data() {
    return {
      selectBr:[
        {
          title: "床号",
          dataIndex: "bedNumber",
          sorter: (a, b) => a.bch.length - b.bch.length,
          align:'center',
          width: "70px",
        },
        {
          title: "姓名",
          dataIndex: "patientName",
          align:'center',
          width: "70px",
        },
        {
          title: "入院诊断",
          dataIndex: "diagnosis",
          align:'center',
          width: "270px",
        }
      ],
      selectBrDetail:[
        {
          title: "T(℃)",
          dataIndex: "t",
          align:'center',
          width: "60px",
        },
        {
          title: "P(次分)",
          dataIndex: "p",
          align:'center',
          width: "70px",
        },
        {
          title: "R(次分)",
          dataIndex: "r",
          align:'center',
          width: "70px",
        },
        {
          title: "BP(mmHg)",
          dataIndex: "bp",
          align:'center',
          width: "120px",
        }
      ],
      selectBrData:[
        {bedNumber:'0001',patientName:'刘先进1',diagnosis:'牛逼哄哄1'}, 
        {bedNumber:'0002',patientName:'刘先进2',diagnosis:'牛逼哄哄2'},   
        {bedNumber:'0003',patientName:'刘先进3',diagnosis:'牛逼哄哄3'},   
        {bedNumber:'0004',patientName:'刘先进4',diagnosis:'牛逼哄哄4'},   
        {bedNumber:'0005',patientName:'刘先进5',diagnosis:'牛逼哄哄5'}   
      ],
      selectBrDetailData:[
        {t:'36.1',p:'11',r:'23',bp:"66/156"},   
        {t:'36.2',p:'12',r:'24',bp:"67/186"},   
        {t:'36.1',p:'13',r:'25',bp:"62/356"},   
        {t:'36.1',p:'14',r:'26',bp:"68/456"},   
        {t:'36.1',p:'15',r:'27',bp:"69/556"},   
      ]
    };
  },
  props: {
    BrOrDatail: {
      type: Number
    }
  },
  watch: {
    BrOrDatail:function(n, o){
      if(n==1){
        this.columns=this.selectBr;
        this.tableData = this.selectBrData
      }else{
        this.columns=this.selectBrDetail;
        this.tableData = this.selectBrDetailData
      }
    }
  },
  methods: {
    rowClick(record, index) {
      //点击行时方法
      return {
        on: {
          // 鼠标单击行
          click: (event) => {
            if(this.BrOrDatail){
              this.$emit("closexrbr", this.selectBrData[index]); 
            }else{
              this.$emit("closexrbr", this.selectBrDetailData[index]); 
            }
          },
        },
      };
    }
  }
};
</script>
<style scoped>
</style>